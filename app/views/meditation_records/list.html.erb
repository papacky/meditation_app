<div class="container mx-auto px-4 py-8">
  <!-- ページタイトル -->
  <div class="mb-8">
    <div class="flex justify-between items-center">
      <h1 class="text-3xl font-bold text-gray-900">記録一覧</h1>
      <div class="flex space-x-4">
        <%= link_to "瞑想記録に戻る", meditation_records_path,
            class: "bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded" %>
        <%= link_to "音楽ライブラリ", music_path,
            class: "bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" %>
      </div>
    </div>
  </div>

  <!-- 記録一覧 -->
  <div class="bg-white shadow rounded-lg overflow-hidden">
    <div class="px-6 py-4 border-b border-gray-200">
      <h2 class="text-lg font-semibold text-gray-900">全ての瞑想記録</h2>
    </div>
    <% if @meditation_records.any? %>
      <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-gray-50">
            <tr>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">日付</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">時間</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">メモ</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">操作</th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200">
            <% @meditation_records.each do |record| %>
              <tr class="hover:bg-gray-50">
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                  <%= record.date&.strftime("%Y年%m月%d日") || "日付なし" %>
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                  <%= record.duration || 0 %>分
                </td>
                <td class="px-6 py-4 text-sm text-gray-500">
                  <div class="max-w-xs truncate" title="<%= record.notes %>">
                    <%= record.notes || "" %>
                  </div>
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                  <div class="flex space-x-2">
                    <%= link_to "詳細", meditation_record_path(record),
                        class: "text-blue-600 hover:text-blue-900" %>
                    <%= link_to "編集", edit_meditation_record_path(record),
                        class: "text-green-600 hover:text-green-900" %>
                    <%= link_to "削除", meditation_record_path(record),
                        method: :delete,
                        data: { confirm: "この記録を削除しますか？" },
                        class: "text-red-600 hover:text-red-900" %>
                  </div>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    <% else %>
      <div class="p-6 text-gray-500">記録がありません。</div>
    <% end %>
  </div>
</div> 