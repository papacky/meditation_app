<!DOCTYPE html>
<html>
  <head>
    <title>瞑想記録アプリ</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: '#3B82F6',
              secondary: '#10B981',
            }
          }
        }
      }
    </script>
    
    <!-- モバイル用のスタイル -->
    <style>
      @media (max-width: 768px) {
        .mobile-button {
          min-height: 44px !important;
          min-width: 44px !important;
          padding: 6px 4px !important;
          font-size: 16px !important;
        }
        /* カレンダーのセル幅を親要素に合わせて均等に自動調整 */
        .simple-calendar {
          overflow-x: auto;
          width: 100%;
          display: block;
        }
        .simple-calendar table {
          table-layout: fixed;
          width: 100%;
        }
        .simple-calendar th{
         font-size: 10px !important; /* 曜日のフォントサイズ */
        }
         
        
         .simple-calendar td {
          min-width: 0 !important;
          width: 1% !important;
          max-width: none !important;
          word-break: break-all;
          padding-left: 0 !important;
          padding-right: 0 !important;
          font-size: 7.8px !important; /* 日付のフォントサイズ */
        }
        .simple-calendar nav a {
          font-size: 10px !important;
        }
        
        .simple-calendar .h-16 {
          min-width: 0 !important;
          width: 100% !important;
          max-width: none !important;
        }
        /* 実施回数バッジを小さく */
        .simple-calendar .badge-count {
          font-size: 8.2px !important;
          padding: 0px 6px !important;
          min-width: 0 !important;
          min-height: 0 !important;
        }
        /* 青バッジ専用クラス */
        .simple-calendar .badge-blue {
          padding: 0px 6px !important;
          border-radius: 4px !important;
          min-width: 0 !important;
          min-height: 0 !important;
        }
      }
    </style>
  </head>

  <body class="bg-gray-100 min-h-screen">
    <!-- フラッシュメッセージ -->
    <% if notice %>
      <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4" role="alert">
        <span class="block sm:inline"><%= notice %></span>
      </div>
    <% end %>
    
    <% if alert %>
      <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4" role="alert">
        <span class="block sm:inline"><%= alert %></span>
      </div>
    <% end %>

    <%= yield %>
  </body>
</html>
